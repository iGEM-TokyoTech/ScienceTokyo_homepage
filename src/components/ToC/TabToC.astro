---
import { TabSelector } from "../scripts/TabSelector.ts";
import { type TabHeading } from "../Navigation/TocNavigation.astro";

import ToC from "./ToC.astro";

export interface TabToCUIProps {
  tabHeadings: TabHeading[];
}

type Props = TabToCUIProps;

const { tabHeadings } = Astro.props;
---

{
  tabHeadings.map((tabHeading) => {
    return (
      <ToC
        class:list={Array.prototype.concat(
          ["toc", TabSelector.CLASSES.toc],
          tabHeading.id === 0 ? ["visible"] : [],
        )}
        data-tab-id={tabHeading.id}
        headings={tabHeading.headings}
      />
    );
  })
}

<style>
  .toc {
    display: none;
  }

  .toc.visible {
    display: block;
  }
</style>
